/* theme-noel.css */
/* ========== Noël Tokens (exact block) ========== */
:root[data-theme="noel"]{
  --brand-primary: #2E7D32;   /* Vert sapin */
  --brand-accent:  #F9A825;   /* Doré */
  --brand-danger:  #C62828;   /* Rouge profond */
  --brand-info:    #0288D1;   /* Bleu glacier */
  --bg-page:       #F7FAFC;   /* neige très clair */
  --bg-panel:      #FFFFFF;
  --bg-flash:      #E8F5F9;
  --text-primary:  #1F2937;
  --text-muted:    #5B6777;
  --chip-sap:      #FFCDD2;
  --chip-tip:      #FFF8E1;
  --chip-green:    #E8F5E9;
  --chip-blue:     #E3F2FD;
  --focus-ring:    #F9A825;
  --shadow-soft:   0 8px 24px rgba(16,24,40,.08);
  --radius-lg:     14px;

  /* Map core tokens to Noël palette for instant theme */
  --color-bg: var(--bg-page);
  --color-surface: #ffffff;
  --color-text: var(--text-primary);
  --color-muted: var(--text-muted);
  --color-accent: var(--brand-primary);
  --color-accent-2: var(--brand-accent);
  --shadow-lg: var(--shadow-soft);
  --radius-xl: var(--radius-lg);
}

/* Subtle page touches */
:root[data-theme="noel"] body { background-color: var(--bg-page); }
:root[data-theme="noel"] .appbar { border-bottom-color: color-mix(in oklab, var(--brand-primary) 10%, transparent); }
:root[data-theme="noel"] .avatar { background: color-mix(in oklab, var(--brand-accent) 35%, white 65%); }
:root[data-theme="noel"] .card__cta { color: var(--brand-primary); }
:root[data-theme="noel"] .search__button { background: var(--brand-primary); }
:root[data-theme="noel"] .search__button:hover { background: color-mix(in oklab, var(--brand-primary) 85%, black 15%); }

/* ========== Snow overlay (optional) ========== */
.bg-snowflakes{
  position: relative;
}
.bg-snowflakes::after{
  content:""; position: fixed; inset: 0; pointer-events: none; z-index: 0;
  background-image: url('/assets/noel/snowflakes.png'); /* TODO: fournir l’actif */
  background-repeat: repeat; background-size: 256px 256px; opacity: .08;
}

/* ========== Festive Banner Variant ========== */
.banner--incident{
  background: var(--brand-danger); color: #fff;
  box-shadow: var(--shadow-soft);
  position: relative;
}
.banner--incident .alert__icon{ color: #fff; }
.banner--incident::after{
  content:""; position: absolute; inset-inline: 0; inset-block-end: -8px; block-size: 8px;
  background-image: url('/assets/noel/garland-houx.png'); /* TODO: fournir l’actif */
  background-repeat: repeat-x; background-size: auto 100%;
}

/* ========== Flash blocks (tips / infos) ========== */
.flash { display: grid; gap: 12px; margin-block: 16px; }
.flash__item{
  background: var(--bg-flash); border: 1px solid color-mix(in oklab, var(--brand-info) 20%, transparent);
  border-radius: var(--radius-lg); padding: 12px 14px; color: var(--text-primary);
  box-shadow: var(--shadow-soft);
}
.flash__item--sap{ background: var(--chip-sap); border-color: color-mix(in oklab, var(--brand-danger) 25%, transparent); }
.flash__item--tips{ background: var(--chip-tip); border-color: color-mix(in oklab, var(--brand-accent) 25%, transparent); }
.flash__item--ok{ background: var(--chip-green); border-color: color-mix(in oklab, var(--brand-primary) 25%, transparent); }

/* ========== Buttons (rounded pills) ========== */
.btn{
  display: inline-flex; align-items: center; justify-content: center; gap: .5rem;
  border: 1px solid transparent; border-radius: 999px; padding: .6rem 1rem; font-weight: 700;
  transition: background-color .2s ease, color .2s ease, border-color .2s ease, transform .2s ease;
}
.btn:focus-visible{ outline: 3px solid var(--focus-ring); outline-offset: 2px; }
.btn--primary{ background: var(--brand-primary); color: #fff; }
.btn--primary:hover{ background: color-mix(in oklab, var(--brand-primary) 85%, black 15%); }
.btn--accent{ background: var(--brand-accent); color: #1a1a1a; }
.btn--accent:hover{ background: color-mix(in oklab, var(--brand-accent) 85%, black 15%); color: #fff; }
.btn--info{ background: var(--brand-info); color: #fff; }
.btn--info:hover{ background: color-mix(in oklab, var(--brand-info) 85%, black 15%); }

/* ========== Festive wordings helpers (optional HTML swap) ========== */
/* Exemple de mapping si vous créez des versions saisonnières des cartes */
:root[data-theme="noel"] .card--demande .card__cta,
:root[data-theme="noel"] .card--incident .card__cta,
:root[data-theme="noel"] .card--tickets .card__cta{ color: var(--brand-primary); }

/* Accessibility & motion */
@media (prefers-reduced-motion: reduce){
  .btn{ transition-duration: .001ms !important; }
}
