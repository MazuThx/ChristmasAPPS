/* ============================================================
   THÈME NOËL — EASYVISTA PORTAL
   Activé automatiquement du 1er décembre au 6 janvier
   ============================================================ */

:root[data-theme="noel"] {
  /* Palette Noël */
  --color-accent: #2E7D32;        /* Vert sapin (remplace teal) */
  --color-accent-2: #F9A825;      /* Doré (remplace pink) */
  --color-badge: #C62828;         /* Rouge Noël profond */
  --color-info: #0288D1;          /* Bleu glacier */
  
  /* Arrière-plans */
  --color-bg: #F7FAFC;            /* Neige très claire */
  --color-surface: rgba(255, 255, 255, 0.95);
  
  /* Chips & variations */
  --chip-incident: #FFCDD2;       /* Rouge clair */
  --chip-tips: #FFF8E1;           /* Doré pâle */
  --chip-success: #E8F5E9;        /* Vert clair */
  --chip-info: #E3F2FD;           /* Bleu clair */
  
  /* Focus & ombres */
  --focus-ring: var(--color-accent-2);
  --shadow-festive: 0 8px 24px rgba(16, 24, 40, 0.08), 0 2px 8px rgba(249, 168, 37, 0.06);
}

/* ============================================================
   FOND DE PAGE AVEC OVERLAY NEIGE
   ============================================================ */
:root[data-theme="noel"] body {
  background:
    radial-gradient(1200px 600px at 80% -10%, rgba(2, 136, 209, 0.06), transparent 60%),
    radial-gradient(900px 500px at 10% 110%, rgba(46, 125, 50, 0.05), transparent 60%),
    var(--color-bg);
}

:root[data-theme="noel"] .hero {
  /* TODO: Remplacer par background-portal.jpg */
  background-image: url('/assets/noel/background-portal.jpg');
}

/* Overlay flocons (optionnel) */
:root[data-theme="noel"] .hero::after {
  content: "";
  position: absolute;
  inset: 0;
  background: url('/assets/noel/snowflakes.png') repeat;
  opacity: 0.08;
  pointer-events: none;
  z-index: 5;
}

/* ============================================================
   APPBAR — AVATAR AVEC BONNET
   ============================================================ */
:root[data-theme="noel"] .avatar {
  background: var(--color-badge);
}

:root[data-theme="noel"] .avatar::before {
  content: "";
  position: absolute;
  top: -8px;
  right: -4px;
  inline-size: 20px;
  block-size: 20px;
  background: url('/assets/noel/icon-santa-hat.svg') no-repeat center / contain;
  pointer-events: none;
}

/* ============================================================
   BOUTONS & CTAs
   ============================================================ */
:root[data-theme="noel"] .search__button {
  background: var(--color-accent);
}

:root[data-theme="noel"] .search__button:hover {
  background: #1B5E20;
}

:root[data-theme="noel"] .card__cta {
  color: var(--color-accent);
}

:root[data-theme="noel"] .card__cta::after {
  background: var(--color-accent);
}

:root[data-theme="noel"] .card__cta:hover {
  color: #1B5E20;
}

:root[data-theme="noel"] .fab {
  background: var(--color-badge);
  box-shadow: var(--shadow-festive);
}

:root[data-theme="noel"] .fab:hover {
  background: #B71C1C;
}

/* ============================================================
   ALERTE / BANDEAU INCIDENT
   ============================================================ */
:root[data-theme="noel"] .alert {
  position: relative;
  background: var(--color-badge);
  padding-block-end: calc(var(--space-4) + 24px);
}

:root[data-theme="noel"] .alert::after {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  block-size: 32px;
  background: url('/assets/noel/garland-houx.png') repeat-x center / auto 32px;
  pointer-events: none;
}

:root[data-theme="noel"] .alert__icon {
  background: var(--color-accent-2);
}

/* ============================================================
   CARTES — ICÔNES THÉMATIQUES
   ============================================================ */
:root[data-theme="noel"] .card__icon {
  color: var(--color-accent);
}

:root[data-theme="noel"] .card:hover {
  background: rgba(46, 125, 50, 0.05);
}

/* ============================================================
   FOCUS & INTERACTIONS
   ============================================================ */
:root[data-theme="noel"] *:focus-visible {
  outline-color: var(--color-accent-2);
}

:root[data-theme="noel"] .search__input:focus {
  box-shadow: 
    inset 0 2px 4px rgba(0, 0, 0, 0.06), 
    0 0 0 3px var(--color-accent), 
    var(--shadow-festive);
}

/* ============================================================
   ANIMATIONS OPTIONNELLES (flocons tombants)
   ============================================================ */
@media (prefers-reduced-motion: no-preference) {
  :root[data-theme="noel"] .hero::after {
    animation: snow-fall 120s linear infinite;
  }
  
  @keyframes snow-fall {
    from { background-position: 0 0; }
    to { background-position: 0 1000px; }
  }
}

/* ============================================================
   PANNEAU FLASH INFOS (si ajouté plus tard)
   ============================================================ */
:root[data-theme="noel"] .flash {
  background: var(--chip-info);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-festive);
  padding: var(--space-6);
}

:root[data-theme="noel"] .flash__title {
  color: var(--color-badge);
  font-weight: 700;
  margin-block-end: var(--space-4);
}

:root[data-theme="noel"] .flash__item {
  display: flex;
  gap: var(--space-3);
  align-items: flex-start;
  padding: var(--space-3);
  background: var(--color-white);
  border-radius: var(--radius-md);
  border-inline-start: 4px solid var(--color-info);
  margin-block-end: var(--space-3);
}

:root[data-theme="noel"] .flash__item--incident {
  border-inline-start-color: var(--color-badge);
  background: var(--chip-incident);
}

:root[data-theme="noel"] .flash__item--tips {
  border-inline-start-color: var(--color-accent-2);
  background: var(--chip-tips);
}

:root[data-theme="noel"] .flash__item--success {
  border-inline-start-color: var(--color-accent);
  background: var(--chip-success);
}

/* ============================================================
   RESPONSIVE
   ============================================================ */
@media (max-width: 768px) {
  :root[data-theme="noel"] .alert {
    padding-block-end: calc(var(--space-3) + 20px);
  }
  
  :root[data-theme="noel"] .alert::after {
    block-size: 24px;
    background-size: auto 24px;
  }
}
